<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>University</title>
  <link rel="stylesheet" href="css/style.css" />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Courier+Prime:ital@1&family=Poppins:wght@200;300;400;600;700&display=swap"
    rel="stylesheet" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <!-- bs link -->

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>

</head>

<body>
  <section class="sub-header" style="
        background: linear-gradient(rgba(10, 10, 10, 0.5), rgba(4, 9, 30, 0.7)),
          url(images/banner2.jpg);
        background-position: center;
        background-size: cover;
      ">
    <nav>
      <a href="/dashboard"> <img src="images/LNCT-Logo.png" /></a>

      <div class="nav-links" id="navLinks">
        <i class="fa fa-xmark" onclick="hidemenu()"></i>
        <ul>
          <li class="hvr"><a href="/dashboard"> Home</a></li>
          <li class="hvr"> <a href="/about"> About</a></li>
          <li class="hvr"><a href="/course"> Course</a></li>
          <li class="hvr"><a href="/blog"> Blog</a></li>
          <li class="hvr"><a href="/contact"> Contact</a></li>
          <li class="nav-item dropdown" style="text-decoration: none;">
            <a class="nav-link dropdown-toggle text-light p-1 text-uppercase" href="#" role="button"
              data-bs-toggle="dropdown" aria-expanded="false" style=" background: #00000082 !important;">
              <%= n %>
            </a>
            <ul class="dropdown-menu">

              <li><a class="dropdown-item text-dark" href="/profile">Profile</a></li>
              <!-- <li><hr class="dropdown-divider text-dark"></li> -->
              <!--  <li><a class="dropdown-item text-dark" href="#">Logout</a></li> -->
              <li class="nav-item my-auto">
                <button class="btn btn-primary  btn-sm border-light"> <a id="rmv" href="/logout">Logout</a> </button>
              </li>
            </ul>
          </li>
          <img src="<%=  i.url %>" width="40" height="40" class="rounded-circle">
        </ul>
      </div>
      <i class="fa fa-bars" onclick="showmenu()"></i>
    </nav>

    <h1> User Profile</h1>
  </section>

 <!-- passing message -->
 <% if(message.length> 0){ %>
  <div class="alert alert-success">
    <%= message %>
  </div>
  <% } %>

  <!-- passing message -->
 <% if(error.length> 0){ %>
  <div class="alert alert-danger">
    <%= error %>
  </div>
  <% } %>

  <!-- profile card  container start -->
  <div class="container">
    <!-- row start -->
    <div class="row d-flex justify-content-center">
      <!-- col start -->
      <div class="col-md-10 mt-5 pt-5">
        <!-- 2 row start -->
        <div class="row ">
          <div class="col-sm-4  rounded-left" style="background: rgb(220, 120, 40);
                box-shadow: 0 0 10px 0px rgba(0, 0, 0, 0.5);">
            <!-- image card  start -->
            <div class="card-block text-center text-light">
              <img src="<%=  i.url %>" class="rounded-circle w-50 mt-5 border border-dark">
              <h2 class="font-weight-bold mt-5 text-uppercase ">
                <%= n %>
              </h2>
              <br>


            </div>
            <!-- card end  -->
          </div>

          <!-- detail card start-->
          <div class="col-sm-8 bg-light rounded-right">
            <h3 class="mt-5 text-center"> User Details </h3>
            <hr class="badge-primary " style="
                    border: 1px solid rgb(220, 120, 40);
                    background-color: rgb(220, 120, 40);
                    ">
            <div class="row">
              <div class="col-sm-6 text-center ">
                <p style="font-weight: 600;"> NAME: </p>
                <h6 class="text-muted fw-normal">
                  <%= n %>
                </h6>
              </div>
              <div class="col-sm-6 text-center">
                <p style="font-weight: 600;"> EMAIL: </p>
                <h6 class="text-muted fw-normal">
                  <%= e %>
                </h6>
              </div>
            </div>
            <h4 class="mt-5 text-center "> ACTION <i class="fas fa-edit" style="color: rgb(220, 120, 40);"></i></h4>

            <div class="row mt-4">
              <!-- update detail button -->
              <div class="col-sm-6 text-center">
                <button type="button" class="btn btn-outline-dark " data-bs-toggle="modal"
                  data-bs-target="#updateProfile">Update_Profile</button>
              </div>
              &nbsp;
              <!-- change passwrd button -->
              <div class="col-sm-5 text-center">
                <button type="button" class="btn btn-outline-dark " data-bs-toggle="modal"
                  data-bs-target="#changePassword">Change_Password</button>
              </div>
            </div>
            <br>
            <hr class="badge-info " style="
                    border: 1px solid rgb(220, 120, 40);
                    background-color: rgb(220, 120, 40);">
          </div>
        </div>
        <!-- row 2 end -->
      </div>
      <!-- col end -->
    </div>
    <!-- row end  -->
  </div>
  <!-- container end -->
  <br><br><br>









  <!-- UPDATE PROFILE DETAIL MODALLLLLL -->

  <div class="modal fade" id="updateProfile" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel"> Update Profile Details</h1>



              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- --- btech form --- -->
          <form action="/updateProfile" method="post" enctype="multipart/form-data">
            <div class="input-group mb-2">
              <span class="input-group-text" id="inputGroup-sizing-default"> Name</span>
              <input type="text" name="name" value="<%= n %>" class="form-control" required>
            </div>
            <div class="input-group mb-2">
              <span class="input-group-text" id="basic-addon1">Email</span>
              <input type="email" name="email" value="<%= e %>" class="form-control" required>
            </div>

            <div class="input-group mb-2">
              <span class="input-group-text" id="basic-addon1">Image</span>
              <input type="file" name="image" class="form-control">
              <img src="<%= i.url %>" width="50px">
            </div>

            <!-- nodal update button -->
            <div class="form-group text-center">
              <button type="submit" class="btn btn-lg btn-block px-2" style="background: rgb(240, 133, 26);"> Update
                Details</button>
            </div>

          </form>
        </div>

      </div>
    </div>
  </div>
  <!-- model end -->


  <!-- CHANGE PASSWORD MODALLLLLLLLL -->

  <div class="modal fade" id="changePassword" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel"> Change Your Password</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- --- chnage pw form --- -->
          <form action="/changePassword" method="post" enctype="multipart/form-data">
            <div class="input-group mb-2">
              <span class="input-group-text " id="inputGroup-sizing-default"> Current Password</span>
              <input type="password" name="oldpassword" class="form-control" required>
            </div>
            <!-- value="<%= n %>" -->
            <div class="input-group mb-2">
              <span class="input-group-text " id="inputGroup-sizing-default"> New Password</span>
              <input type="password" name="newpassword" class="form-control" required>
            </div>
            <div class="input-group mb-2">
              <span class="input-group-text text-success fw-bold" id="inputGroup-sizing-default"> Confirm
                Password</span>
              <input type="password" name="cnfpassword" class="form-control" required>
            </div>


            <!-- modal change pw button -->
            <div class="form-group text-center">
              <button type="submit" class="btn btn-lg btn-block px-2" style="background: rgb(240, 133, 26);"> Update
                Password</button>
            </div>

          </form>
        </div>

      </div>
    </div>
  </div>
  <%- include('./footer.ejs') %>